<%- include('../partials/header.ejs') %>
<div class="pets-index"></div>
<h1 class="page-title">Available pets</h1>
<div class="wrapper">
<div class="filter-section">
<form method="GET" action="/pets">
    <h2>Filter pets</h2>
    <label for="category">Category:</label>
    <select name="category" id="category">
        <option value="">All</option>
        <option value="Dog" <%=category==="Dog" ? "selected" : ""%>>Dog</option>
        <option value="Cat" <%=category==="Cat" ? "selected" : ""%>>Cat</option>
        <option value="Other small mammal" <%=category==="Other small mammal" ? "selected" : ""%>>Other small mammal</option>
        <option value="Other large mammal" <%=category==="Other large mammal" ? "selected" : ""%>>Other large mammal</option>
        <option value="Lizard" <%=category==="Lizard" ? "selected" : ""%>>Lizard</option>
        <option value="Snake" <%=category==="Snake" ? "selected" : ""%>>Snake</option>
        <option value="Other reptile" <%=category==="Other reptile" ? "selected" : ""%>>Other reptile</option>
        <option value="Fish" <%=category==="Fish" ? "selected" : ""%>>Fish</option>
        <option value="Bird" <%=category==="Bird" ? "selected" : ""%>>Bird</option>
        <option value="Insect/Arachnid" <%=category==="Insect/Arachnid" ? "selected" : ""%>>Insect/Arachnid</option>
    <option value="Other" <%=category==="Other" ? "selected" : ""%>>Other</option>
 </select>
 <label>
    <input type="checkbox" name="specialCareNeeded" id="specialCareNeeded" value="true" <%=specialCareNeeded ? 'checked':''%>/>
 Special care needed</label>
 <button type="submit">Filter</button>
 </form>
 </div>


<div class="pet-grid">
  <% if (pets && pets.length) { %>
    <% pets.forEach(pet => { %>
      <a href="/pets/<%= pet._id %>" class="pet-card-link">
        <div class="pet-card">
          <img alt="image of <%= pet.name %>" class="pet-pic" src="<%= pet.profileImg %>">
          <p class="pet-name"><strong><%= pet.name %></strong></p>
          <% if (pet.breed) { %>
            <p class="pet-breed"><em><%= pet.breed %></em></p>
          <% } else{ %>
            <p class="pet-species"><em><%= pet.category %></em></p
                <% } %>
          <p class="pet-location"><%= pet.location %></p>
        </div>
      </a>
    <% }) %>
  <% } else { %>
    <p>No pets available!</p>
  <% } %>
</div>

</div>
</div>
 <%- include('../partials/footer.ejs') %>